<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FitTrack - Scheda Cliente</title>
  <link rel="manifest" href="/fittrack/manifest.json" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>💪 FitTrack - Scheda Cliente</h1>
    <p>Visualizza la tua scheda settimanale</p>
  </header>

   <!-- Sticky navigation + day chip -->
  <div id="topBar">
    <div id="dayNavigation">
      <button id="prevDay">⬅</button>
      <span id="currentDayLabel">Lunedì</span>
      <button id="nextDay">➡</button>
    </div>
  </div>

  <div id="seriesCounterPopup" class="hidden">
  <div class="popup-content">
    <h3 id="popupExerciseName"></h3>
    <p>Serie completate: <span id="seriesDone">0</span></p>
    <button id="addSeriesBtn">➕ Aggiungi Serie</button>
    <button id="closePopupBtn">❌ Chiudi</button>
  </div>
</div>

  <main>
    <section id="programDisplay"></section>
  </main>

  <footer>
    <p>🏋️ FitTrack © 2025</p>
  </footer>

  <script src="script.js"></script>

  <script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/fittrack/sw.js")
      .then(() => console.log("✅ Service Worker registrato"))
      .catch(err => console.error("❌ Errore SW:", err));
  
    navigator.serviceWorker.addEventListener("message", event => {
      if (event.data.type === "NEW_VERSION") {
        if (confirm("È disponibile una nuova versione di FitTrack. Vuoi aggiornarla ora?")) {
          window.location.reload();
        }
      }
    });
  }
</script>

</body>
</html>
